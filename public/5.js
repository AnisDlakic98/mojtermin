(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{183:function(t,a,o){var s=o(287);"string"==typeof s&&(s=[[t.i,s,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};o(5)(s,e);s.locals&&(t.exports=s.locals)},286:function(t,a,o){"use strict";var s=o(183);o.n(s).a},287:function(t,a,o){(t.exports=o(4)(!1)).push([t.i,"\n#my-strictly-unique-vue-upload-multiple-image {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 20px;\n}\nh1, h2 {\n    font-weight: normal;\n}\nul {\n    list-style-type: none;\n    padding: 0;\n}\nli {\n    display: inline-block;\n    margin: 0 10px;\n}\na {\n    color: #42b983;\n}\n",""])},335:function(t,a,o){"use strict";o.r(a);var s={data:function(){return{user:{},button:{loading:!1,dataStyle:"expand-left",progress:0},comments:[],form:new Form({id:"",nameSurname:"",email:"",password:"",photo:""})}},methods:{loadUserProfile:function(){var t=this;axios.get("/api/profile").then((function(a){var o=a.data;t.form.fill(o.user),t.form.nameSurname=o.user.name}))},getProfilePhoto:function(){return"profile.png"===this.form.photo?"img/profile/user.svg":this.form.photo.length>200?this.form.photo:"img/profile/"+this.form.photo},updatePhoto:function(t){var a=this,o=t.target.files[0],s=new FileReader;o.type.match("image.*")||swal.fire({title:"Oops...",text:"Odabrani format nije validan, mora biti slika!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#ffc107",showConfirmButton:!1,cancelButtonText:"Ok"}),o.size<2e6?(s.onloadend=function(t){a.form.photo=s.result},s.readAsDataURL(o)):swal.fire({title:"Oops...",text:"You are uploading a large file",icon:"warning",showCancelButton:!0,cancelButtonColor:"#ffc107",showConfirmButton:!1,cancelButtonText:"Ok"})},updateProfile:function(){var t=this;this.button.loading=!0,this.$Progress.start(),this.form.put("api/profile").then((function(){t.button.loading=!1,toast.fire({icon:"success",title:"Uspješno ste ažurirali svoj profil!"}),t.$Progress.finish()})).catch((function(a){t.button.loading=!1,t.$Progress.fail(),500===a.response.status&&toast.fire({icon:"error",title:"Server trenutno nije u stanju da odgovori na zahtjev."}),422===a.response.status&&toast.fire({icon:"error",title:"Molimo Vas da ispunite svoje podatke pravilno!"})}))},loadComments:function(){var t=this;axios.get("/api/comments/".concat(this.user.id)).then((function(a){t.comments=a.data[1]})).catch((function(t){console.log(t)}))}},mounted:function(){this.user=this.$gate.user,this.loadUserProfile(),this.loadComments()}},e=(o(286),o(1)),i=Object(e.a)(s,(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"}),t._v(" "),o("div",{staticClass:"col-md-12 mx-auto"},[o("div",{staticClass:"card"},[t._m(0),t._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"tab-content"},[o("div",{staticClass:"tab-pane active",attrs:{id:"settings"}},[o("form",{staticClass:"form-horizontal"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"nameSurname"}},[t._v("Ime i prezime:")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nameSurname,expression:"form.nameSurname"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("nameSurname")},attrs:{type:"text",name:"nameSurname",id:"nameSurname",placeholder:"Ime i prezime"},domProps:{value:t.form.nameSurname},on:{input:function(a){a.target.composing||t.$set(t.form,"nameSurname",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"nameSurname"}})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email",name:"email",id:"email",placeholder:"Email",disabled:""},domProps:{value:t.form.email},on:{input:function(a){a.target.composing||t.$set(t.form,"email",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"email"}})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"photo"}},[t._v("Profilna slika")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("input",{staticClass:"form-input",attrs:{type:"file",name:"photo",id:"photo"},on:{change:t.updatePhoto}})])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"password"}},[t._v("Lozinka")]),t._v(" "),o("div",{staticClass:"col-sm-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("password")},attrs:{type:"password",name:"password",id:"password",placeholder:"Unesite lozinku"},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}}),t._v(" "),o("has-error",{attrs:{form:t.form,field:"password"}})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"offset-sm-2 col-sm-10"},[o("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.updateProfile(a)}}},[t._v("Izmijeni")])])])])])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header p-2"},[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{href:"#settings","data-toggle":"tab"}},[this._v("Korisnički detalji")])])])])}],!1,null,null,null);a.default=i.exports}}]);