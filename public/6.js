(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{326:function(e,t,a){"use strict";a.r(t);var n={data:function(){return{events:[],eventsForCalender:[]}},methods:{loadUserProfile:function(){var e=this;axios.get("/api/profile").then((function(t){var a=t.data;e.user=a.user,a.salonAppointments&&a.salonAppointments.length>0&&(e.events=a.salonAppointments,e.events.forEach((function(t){e.eventsForCalender.push({title:t.service_name,description:'<div class="mt-2"><p class="mb-1"><b>Poruka:</b> '.concat(t.message,'</p><p class="mb-1"><b>Vrijeme:</b> ').concat(t.time,"</p></div>"),icon:"",start:t.date,end:t.date,className:"fc-bg-default",allDay:!1})})),window.eventsForCalender=e.eventsForCalender)})).then((function(){e.initCalender()}))},initCalender:function(){jQuery(document).ready((function(){jQuery(".datetimepicker").datepicker({timepicker:!0,language:"en",range:!0,multipleDates:!0,multipleDatesSeparator:" - "}),jQuery("#add-event").submit((function(){alert("Submitted");var e={};$.each($("#add-event").serializeArray(),(function(t,a){e[a.name]=a.value})),console.log(e)}))})),jQuery,jQuery((function(){jQuery("#calendar").fullCalendar({themeSystem:"bootstrap4",businessHours:!1,defaultView:"month",editable:!0,header:{left:"title",center:"month,agendaWeek,agendaDay",right:"today prev,next"},events:window.eventsForCalender,eventRender:function(e,t){e.icon&&t.find(".fc-title").prepend("<i class='fa fa-"+e.icon+"'></i>")},dayClick:function(){jQuery("#modal-view-event-add").modal()},eventClick:function(e,t,a){jQuery(".event-icon").html("<i class='fa fa-"+e.icon+"'></i>"),jQuery(".event-title").html(e.title),jQuery(".event-body").html(e.description),jQuery(".eventUrl").attr("href",e.url),jQuery("#modal-view-event").modal()}})}))}},mounted:function(){this.loadUserProfile()}},i=a(1),s=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-5",attrs:{id:"fullCalendar"}},[0===e.eventsForCalender.length?a("div",{staticClass:"data-not-found d-flex justify-content-center"},[e._m(0)]):e._e(),e._v(" "),0!==e.eventsForCalender.length?a("div",[e._m(1)]):e._e(),e._v(" "),e._m(2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-auto"},[t("img",{staticClass:"w-50 mx-auto d-block tex-center",attrs:{src:"/img/broke.svg",alt:""}}),this._v(" "),t("h2",{staticClass:"mt-3 text-center"},[this._v("Nemate zakazanih termina!")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-body p-0"},[t("div",{attrs:{id:"calendar"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal modal-top fade calendar-modal",attrs:{id:"modal-view-event"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-body"},[t("h2",{staticClass:"modal-title"},[t("span",{staticClass:"event-icon"}),t("span",{staticClass:"event-title"})]),this._v(" "),t("div",{staticClass:"event-body"})]),this._v(" "),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Zatvori")])])])])])}],!1,null,null,null);t.default=s.exports}}]);