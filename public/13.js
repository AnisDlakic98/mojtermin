(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{326:function(t,a,e){"use strict";e.r(a);var s={data:function(){return{user:{},services:[],editMode:!1,form:new Form({duration:5,id:"",name:"",price:""})}},methods:{loadServices:function(){var t=this;axios.get("/api/services/".concat(this.user.id)).then((function(a){t.services=a.data[1]})).catch((function(t){console.log(t)}))},createService:function(){this.form.post("/api/services/".concat(this.user.salon_id)).then((function(t){$("#servicesModal").modal("hide"),toast.fire({icon:"success",title:"Uspješno dodavanje!"}),Fire.$emit("refreshDataTable"),console.log(t)})).catch((function(t){console.log(t)}))},updateService:function(){var t=this;this.$Progress.start(),this.form.put("/api/services/".concat(this.form.id)).then((function(a){$("#addNewModal").modal("hide"),toast.fire({icon:"success",title:"Uspješna izmjena!"}),Fire.$emit("refreshDataTable"),t.$Progress.finish(),console.log(a)})).catch((function(a){t.$Progress.fail(),console.log(a)}))},deleteService:function(t){var a=this;swal.fire({title:"Da li ste sigurni?",text:"Nećete moći da povratite ovu akciju!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Odustani",confirmButtonText:"Da, obriši!"}).then((function(e){e.value&&a.form.delete("api/services/".concat(t)).then((function(t){swal.fire("Obrisano!","Uspješno brisanje","success"),Fire.$emit("refreshDataTable"),console.log(t)})).catch((function(t){console.log(t)}))}))},openModalForCreate:function(){this.editMode=!1,this.form.reset(),$("#servicesModal").modal("show")},openModalForEdit:function(t){this.editMode=!0,this.form.reset(),$("#servicesModal").modal("show"),this.form.fill(t)}},mounted:function(){var t=this;this.user=this.$gate.user,this.loadServices(),Fire.$on("refreshDataTable",(function(){t.loadServices()}))}},i=e(1),o=Object(i.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",attrs:{id:"usersManagment"}},[e("div",{staticClass:"col-12"},[0===t.services.length?e("div",{staticClass:"data-not-found d-flex justify-content-center"},[t._m(0),t._v(" "),e("div",{staticClass:"card-tools"},[e("div",{staticClass:"input-group input-group-sm"},[e("button",{staticClass:"btn btn-success",on:{click:t.openModalForCreate}},[e("i",{staticClass:"fas fa-list"}),t._v("\n                        Dodaj uslugu\n                    ")])])])]):e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v("Usluge")]),t._v(" "),e("div",{staticClass:"card-tools"},[e("div",{staticClass:"input-group input-group-sm"},[e("button",{staticClass:"btn btn-success",on:{click:t.openModalForCreate}},[e("i",{staticClass:"fas fa-list"}),t._v("\n                            Dodaj uslugu\n                        ")])])])]),t._v(" "),e("div",{staticClass:"card-body table-responsive p-0"},[e("table",{staticClass:"table table-hover text-nowrap"},[t._m(1),t._v(" "),e("tbody",t._l(t.services,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",[t._v(t._s(a.price))]),t._v(" "),e("td",[t._v(t._s(t._f("upperText")(a.duration)))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-warning modify-btn mr-2",on:{click:function(e){return t.openModalForEdit(a)}}},[t._v("Izmijeni "),e("i",{staticClass:"fa fa-edit"})]),t._v(" "),e("button",{staticClass:"btn btn-danger modify-btn",on:{click:function(e){return t.deleteService(a.id)}}},[t._v("Obriši "),e("i",{staticClass:"fa fa-trash"})])])])})),0)])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"servicesModal",tabindex:"-1",role:"dialog","aria-labelledby":"servicesModal","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"servicesModal"}},[t._v("\n                        "+t._s(t.editMode?"Izmijeni uslugu":"Dodaj novu uslugu")+"\n                    ")]),t._v(" "),t._m(2)]),t._v(" "),e("form",{on:{submit:function(a){a.preventDefault(),t.editMode?t.updateService():t.createService()}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Naziv usluge")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",name:"name",placeholder:"Naziv usluge"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"name"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Cijena")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("price")},attrs:{type:"text",name:"price",placeholder:"Cijena"},domProps:{value:t.form.price},on:{input:function(a){a.target.composing||t.$set(t.form,"price",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"price"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Trajanje")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.duration,expression:"form.duration"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("duration")},attrs:{name:"type",id:"duration"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"duration",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"5"}},[t._v("5min")]),t._v(" "),e("option",{attrs:{value:"10"}},[t._v("10min")]),t._v(" "),e("option",{attrs:{value:"15"}},[t._v("15min")]),t._v(" "),e("option",{attrs:{value:"20"}},[t._v("20min")]),t._v(" "),e("option",{attrs:{value:"25"}},[t._v("25min")]),t._v(" "),e("option",{attrs:{value:"30"}},[t._v("30min")]),t._v(" "),e("option",{attrs:{value:"35"}},[t._v("35min")]),t._v(" "),e("option",{attrs:{value:"40"}},[t._v("40min")]),t._v(" "),e("option",{attrs:{value:"45"}},[t._v("45min")]),t._v(" "),e("option",{attrs:{value:"50"}},[t._v("50min")]),t._v(" "),e("option",{attrs:{value:"55"}},[t._v("55min")]),t._v(" "),e("option",{attrs:{value:"60"}},[t._v("1h")]),t._v(" "),e("option",{attrs:{value:"65"}},[t._v("1h 5min")]),t._v(" "),e("option",{attrs:{value:"70"}},[t._v("1h 10min")]),t._v(" "),e("option",{attrs:{value:"75"}},[t._v("1h 15min")]),t._v(" "),e("option",{attrs:{value:"80"}},[t._v("1h 20min")]),t._v(" "),e("option",{attrs:{value:"85"}},[t._v("1h 25min")]),t._v(" "),e("option",{attrs:{value:"90"}},[t._v("1h 30min")]),t._v(" "),e("option",{attrs:{value:"95"}},[t._v("1h 35min")]),t._v(" "),e("option",{attrs:{value:"100"}},[t._v("1h 40min")]),t._v(" "),e("option",{attrs:{value:"105"}},[t._v("1h 45min")]),t._v(" "),e("option",{attrs:{value:"110"}},[t._v("1h 50min")]),t._v(" "),e("option",{attrs:{value:"115"}},[t._v("1h 55min")]),t._v(" "),e("option",{attrs:{value:"120"}},[t._v("2h")]),t._v(" "),e("option",{attrs:{value:"135"}},[t._v("2h 15min")]),t._v(" "),e("option",{attrs:{value:"150"}},[t._v("2h 30min")]),t._v(" "),e("option",{attrs:{value:"165"}},[t._v("2h 45min")]),t._v(" "),e("option",{attrs:{value:"180"}},[t._v("3h")]),t._v(" "),e("option",{attrs:{value:"195"}},[t._v("3h 15min")]),t._v(" "),e("option",{attrs:{value:"210"}},[t._v("3h 30min")]),t._v(" "),e("option",{attrs:{value:"225"}},[t._v("3h 45min")]),t._v(" "),e("option",{attrs:{value:"240"}},[t._v("4h")]),t._v(" "),e("option",{attrs:{value:"270"}},[t._v("4h 30min")]),t._v(" "),e("option",{attrs:{value:"300"}},[t._v("5h")]),t._v(" "),e("option",{attrs:{value:"330"}},[t._v("5h 30min")]),t._v(" "),e("option",{attrs:{value:"360"}},[t._v("6h")]),t._v(" "),e("option",{attrs:{value:"390"}},[t._v("6h 30min")]),t._v(" "),e("option",{attrs:{value:"420"}},[t._v("7h")]),t._v(" "),e("option",{attrs:{value:"450"}},[t._v("7h 30min")]),t._v(" "),e("option",{attrs:{value:"480"}},[t._v("8h")]),t._v(" "),e("option",{attrs:{value:"540"}},[t._v("9h")]),t._v(" "),e("option",{attrs:{value:"600"}},[t._v("10h")]),t._v(" "),e("option",{attrs:{value:"660"}},[t._v("11h")]),t._v(" "),e("option",{attrs:{value:"720"}},[t._v("12h")])]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"duration"}})],1)]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Odustani")]),t._v(" "),e("button",{staticClass:"btn",class:[t.editMode?"btn-success":"btn-primary"],attrs:{type:"submit"}},[t._v("\n                            "+t._s(t.editMode?"Izmijeni":"Dodaj")+"\n                        ")])])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"m-auto"},[a("img",{staticClass:"w-50 mx-auto d-block tex-center",attrs:{src:"/img/broke.svg",alt:""}}),this._v(" "),a("h2",{staticClass:"mt-3 text-center"},[this._v("Nemate dodatih usluga!")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("ID")]),t._v(" "),e("th",[t._v("Naziv usluge")]),t._v(" "),e("th",[t._v("Cijena usluge")]),t._v(" "),e("th",[t._v("Trajanje")]),t._v(" "),e("th",[t._v("Izmjene")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);a.default=o.exports}}]);