(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{333:function(t,e,s){"use strict";s.r(e);var a={data:function(){return{about:[],editMode:!1,form:new Form({id:"",title:"",subtitle:""})}},methods:{loadServices:function(){var t=this;axios.get("/api/about").then((function(e){t.about=e.data[1],$("#summernote").summernote("code",e.data[1][0].subtitle)})).catch((function(t){console.log(t)}))},updateService:function(){var t=this;this.$Progress.start();var e=$("#summernote").summernote("code");this.form.subtitle=e,this.form.put("/api/about/".concat(this.form.id)).then((function(e){$("#addNewModal").modal("hide"),toast.fire({icon:"success",title:"Uspješna izmjena!"}),Fire.$emit("refreshDataTable"),t.$Progress.finish(),window.location.reload()})).catch((function(e){t.$Progress.fail()}))},openModalForCreate:function(){this.editMode=!1,this.form.reset(),$("#servicesModal").modal("show")},openModalForEdit:function(t){this.editMode=!0,this.form.reset(),$("#servicesModal").modal("show"),this.form.fill(t)}},mounted:function(){var t=this;$("#summernote").summernote({height:200}),this.loadServices(),Fire.$on("refreshDataTable",(function(){t.loadServices()}))}},i=s(1),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",attrs:{id:"usersManagment"}},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body table-responsive p-0"},[s("table",{staticClass:"table table-hover text-nowrap"},[t._m(1),t._v(" "),s("tbody",t._l(t.about,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.subtitle))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-warning modify-btn mr-2",on:{click:function(s){return t.openModalForEdit(e)}}},[t._v("\n                                Izmijeni "),s("i",{staticClass:"fa fa-edit"})])])])})),0)])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"servicesModal",tabindex:"-1",role:"dialog","aria-labelledby":"servicesModal","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"servicesModal"}},[t._v("\n                        "+t._s(t.editMode?"Izmijeni testimonijal":"Dodaj novi testimonijal")+"\n                    ")]),t._v(" "),t._m(2)]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.editMode?t.updateService():t.createService()}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Naslov")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("title")},attrs:{type:"text",name:"title",placeholder:"Naslov"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"title"}})],1),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Podnaslov")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.subtitle,expression:"form.subtitle"}],attrs:{id:"summernote"},domProps:{value:t.form.subtitle},on:{input:function(e){e.target.composing||t.$set(t.form,"subtitle",e.target.value)}}},[t._v("<p>Hello Summernote</p>")])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Odustani")]),t._v(" "),s("button",{staticClass:"btn",class:[t.editMode?"btn-success":"btn-primary"],attrs:{type:"submit"}},[t._v("\n                            "+t._s(t.editMode?"Izmijeni":"Dodaj")+"\n                        ")])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[this._v("O Nama")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Naslov")]),this._v(" "),e("th",[this._v("Podnaslov")]),this._v(" "),e("th",[this._v("Akcije")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Odustani"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);e.default=o.exports}}]);